<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-02-04T13:11:32+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">de_soot</title><subtitle>hosted on github pages</subtitle><entry><title type="html">Guide to APA with groff ms and refer</title><link href="http://localhost:4000/groff-apa" rel="alternate" type="text/html" title="Guide to APA with groff ms and refer" /><published>2025-02-02T00:00:00+08:00</published><updated>2025-02-02T00:00:00+08:00</updated><id>http://localhost:4000/groff-apa</id><content type="html" xml:base="http://localhost:4000/groff-apa"><![CDATA[<h1 id="table-of-contents-">Table of Contents <a name="tableofcontents"></a></h1>

<p><a href="/groff-apa#preface">Preface</a></p>

<p><a href="/groff-apa#introduction">Introduction</a></p>

<p><a href="/groff-apa#prerequisites">Prerequisites</a></p>

<p><a href="/groff-apa#coverpage">Cover Page</a></p>

<p><a href="/groff-apa#pagenumbering">Page Numbering</a></p>

<p><a href="/groff-apa#font">Font</a></p>
<ul>
  <li><a href="/groff-apa#fontfamily">Font Family</a>
    <ul>
      <li><a href="/groff-apa#defaultfonts">Default Fonts</a></li>
      <li><a href="/groff-apa#customfonts">Custom Fonts</a></li>
    </ul>
  </li>
  <li><a href="/groff-apa#fontsize">Font Size</a></li>
  <li><a href="/groff-apa#fontstyle">Font Style</a></li>
  <li><a href="/groff-apa#linespacing">Line Spacing</a></li>
</ul>

<p><a href="/groff-apa#intextcitation">In-text Citation</a></p>
<ul>
  <li><a href="/groff-apa#parentheticalcitation">Parenthetical Citation</a></li>
  <li><a href="/groff-apa#narrativecitation">Narrative Citation</a></li>
</ul>

<p><a href="/groff-apa#referencelist">Reference List</a></p>
<ul>
  <li><a href="/groff-apa#formattingtheheading">Formatting the Heading</a></li>
  <li><a href="/groff-apa#authorsandsampersands">Authors, Ands &amp; Ampersands</a>
    <ul>
      <li><a href="/groff-apa#effectoncitations">Effect on Citations</a></li>
    </ul>
  </li>
  <li><a href="/groff-apa#spacebetweenentries">Space Between Entries</a></li>
  <li><a href="/groff-apa#periodsuppression">Period Suppression</a></li>
</ul>

<p><a href="/groff-apa#exportingaspdf">Exporting as PDF</a></p>

<h1 id="preface-">Preface <a name="preface"></a></h1>

<p>I think every student who has been through college has had to write an essay with citations and referencing for all their sources for a mandatory prerequisite class, and I was no exception to this.</p>

<p>Just as a fun little challenge, I wanted to write my essay using <a href="https://neovim.io">Neovim</a>, the same terminal text-editor I code on and write blogs for my website with, so I had to find a word processor that can compile documents from plaintext (unlike What-You-See-Is-What-You-Get (WYSIWYG) word processors, such as <a href="https://www.libreoffice.org">LibreOffice</a> <a href="https://www.libreoffice.org/discover/writer">Writer</a>). As you could tell from the title of this blog post, I chose to use <a href="https://www.gnu.org/software/groff"><code class="language-plaintext highlighter-rouge">groff</code></a> for that task.</p>

<p>You do not have to be using APA to find this guide helpful, as it goes through where many of the things that you will need to change are and explains how to change them. Just adapt some of the specific changes made in this guide to suit your needs.</p>

<p>This blog guide mainly just serves to compile all the relevant research I had done into a simple step-by-step solution I can easily follow when I want to use <code class="language-plaintext highlighter-rouge">groff</code> to write essays in APA again, but it also hopes to help others who were in the same spot I was save themselves some time and frustration that I had to go through when figuring things out by myself for the first time.</p>

<p>I made a <a href="https://github.com/de-soot/groff-apa">Github repository</a> as a companion to this guide. It gives an example of the final generated output so you know exactly what you are going to get out of this. The source files included in the repository have some extra comments to help readability and can also be used as a template to quickly set things up to just get started writing.</p>

<p>A fun little fact about this blog post: this is actually my second time writing this blog post because I lost the first one after almost finishing it.</p>

<h1 id="introduction-">Introduction <a name="introduction"></a></h1>

<p>The <a href="https://apa.org">American Psychological Association</a> (APA) 7th Edition <a href="https://apastyle.apa.org">style guide</a> is the most popular for formatting references and citations in college-level essays (at least that was what my lecturer said when they gave out the writing assignment).</p>

<p><a href="https://gnu.org">GNU</a> <a href="https://troff.org">(t)roff</a> (abbreviated as <code class="language-plaintext highlighter-rouge">groff</code>) is an older and more lightweight but less well-known typesetting alternative to <a href="https://www.latex-project.org">LaTeX</a> (which is popular for writing academic papers) that comes preinstalled in most <a href="https://en.wikipedia.org/wiki/GNU/Linux_naming_controversy">GNU/Linux</a> distributions. If it was not for the massive size of a LaTeX install (&gt;2GB vs. <code class="language-plaintext highlighter-rouge">groff</code>’s &lt;10MB), I likely would not have used <code class="language-plaintext highlighter-rouge">groff</code>. <code class="language-plaintext highlighter-rouge">groff</code> also has a simpler syntax and compiles in an instant compared to LaTeX, which are some of the things that further convinced me to stick with <code class="language-plaintext highlighter-rouge">groff</code> even when I got stuck and lost at times.</p>

<p>The <code class="language-plaintext highlighter-rouge">ms</code> macro is largely seen as the “default” macro for writing to PDF in <code class="language-plaintext highlighter-rouge">groff</code>, so it should have the most documentation out of any other macros. That was the main reason I chose to use the <code class="language-plaintext highlighter-rouge">ms</code> macro, along with already having previous experience writing basic documents with the <code class="language-plaintext highlighter-rouge">ms</code> macro.</p>

<p>However, <code class="language-plaintext highlighter-rouge">groff</code> by itself cannot do citations and referencing out-of-the-box. Fortunately, it does come with a preprocessor called <code class="language-plaintext highlighter-rouge">refer</code> that does the citing and referencing for it (although, the defaults for <code class="language-plaintext highlighter-rouge">refer</code> do not conform to APA guidelines). Luckily, it is not too complex to change those defaults to match any style guide as long as you know where to find the right things to change.</p>

<h1 id="prerequisites-">Prerequisites <a name="prerequisites"></a></h1>

<p>This guide assumes you are using a GNU/Linux-based system and already know how to write and compile basic <code class="language-plaintext highlighter-rouge">groff ms</code> documents to Portable Document Format (PDF). If not, do not worry. There are many resources online for getting started, such as Luke Smith’s videos on <a href="https://videos.lukesmith.xyz/w/eDqgKby1W4sHQGZgqZbMLe"><code class="language-plaintext highlighter-rouge">groff</code></a> and <a href="https://videos.lukesmith.xyz/w/5ANbTYv7cgF69FhpAkVBwi"><code class="language-plaintext highlighter-rouge">refer</code></a>. For more detail, see GNU’s official <a href="https://www.gnu.org/software/groff/manual/groff.html">manual</a> or <code class="language-plaintext highlighter-rouge">troff</code>’s <a href="https://troff.org/TheGroffFriendsHowto.pdf">HOWTO</a>.</p>

<h1 id="cover-page-">Cover Page <a name="coverpage"></a></h1>

<p>My assignment did not require me to include a cover page, but yours might. Although it is standard for cover page information to be on its own separate page, <code class="language-plaintext highlighter-rouge">groff</code> does not conform to that standard by default. Luckily, the <code class="language-plaintext highlighter-rouge">ms</code> macro does have a convenient to change this easily. Just put <a href="https://linux.die.net/man/7/groff_ms"><code class="language-plaintext highlighter-rouge">.RP no</code></a> as the first line of your document (<code class="language-plaintext highlighter-rouge">.RP</code> stands for “report”; the <code class="language-plaintext highlighter-rouge">no</code> argument tells it to not repeat the cover page information on the next page):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.RP no
</code></pre></div></div>

<p>This is also needed for the next section on page numbering.</p>

<h1 id="page-numbering-">Page Numbering <a name="pagenumbering"></a></h1>

<p>The first page does not have any headers (including page numbering) because <code class="language-plaintext highlighter-rouge">groff</code> expects it to include cover page information (i.e. the title of the paper; optionally author(s), institution(s), date, and abstract).</p>

<p>If you followed the steps on the previous section on the cover page, you might be confused as to why the first page after the cover page still does not have any page numbering while the page after it starts with the page numbering of ‘2’. This is because although <code class="language-plaintext highlighter-rouge">groff</code> started counting page numbers on the first page after the cover page, it still suppresses the first page by default.</p>

<p>When we used the <code class="language-plaintext highlighter-rouge">.RP no</code> macro to move the cover page information into its own page, we simply created a new “page 0” that <code class="language-plaintext highlighter-rouge">groff</code> does not know about (which is also why <code class="language-plaintext highlighter-rouge">groff</code> does not count it in the page numbering).</p>

<p>Conveniently, is another macro to help us fix this. Place <code class="language-plaintext highlighter-rouge">.P1</code> below <code class="language-plaintext highlighter-rouge">.RP no</code> to unsuppress the first page header (page numbering):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.RP no
.P1
</code></pre></div></div>

<p>Note that <code class="language-plaintext highlighter-rouge">.P1</code> does not work by itself without <code class="language-plaintext highlighter-rouge">.RP no</code>, likely because <code class="language-plaintext highlighter-rouge">groff</code> suppresses headers on any page with cover page information even if you make them empty by doing this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.TL
.AB no
.AE
</code></pre></div></div>

<p>which works because even though the title (<code class="language-plaintext highlighter-rouge">.TL</code>) is required, it stops at the abstract (<code class="language-plaintext highlighter-rouge">.AB</code>, which ends at <code class="language-plaintext highlighter-rouge">.AE</code>; the <code class="language-plaintext highlighter-rouge">no</code> argument suppresses the error/warning it gives when its empty).</p>

<h1 id="font-">Font <a name="font"></a></h1>

<p>Probably the most widely accepted font for writing essays has got to be Times New Roman in 12 point size. This section covers how to change the font family, size, style, and line spacing.</p>

<h2 id="font-family-">Font Family <a name="fontfamily"></a></h2>

<p>By default, <code class="language-plaintext highlighter-rouge">groff</code> outputs text in your <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Using-Fonts.html">device’s default serif font family</a> (typically Times New Roman). This is a sensible default for most things, but in my experience, you sometimes may have to change your font to suit your lecturer’s tastes.</p>

<h3 id="default-fonts-">Default Fonts <a name="defaultfonts"></a></h3>

<p>Changing to another one of the default fonts in <code class="language-plaintext highlighter-rouge">groff</code> is simple.</p>

<p>This is how to change it to device’s default <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Font-Families.html">sans-serif</a>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.fam H \" Helvetica
</code></pre></div></div>

<p>monospace,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.fam C \" Courier
</code></pre></div></div>

<p>and (back to) serif font family:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.fam T \" Times New Roman
</code></pre></div></div>

<p>There are many other default fonts in <code class="language-plaintext highlighter-rouge">groff</code> listed in <a href="https://technicallywewrite.com/2024/04/12/changefonts">this post</a>.</p>

<h3 id="custom-fonts-">Custom Fonts <a name="customfonts"></a></h3>

<p>This one is trickier, and I still have not been able to get it to work on my device yet. I did find a <a href="https://www.port.de/cgi-bin/groff/AddingFonts">guide that seemed promising</a> though. Maybe I will revisit this in the future, if I get it working.</p>

<h2 id="font-size-">Font Size <a name="fontsize"></a></h2>

<p>The default font size in <code class="language-plaintext highlighter-rouge">groff</code> is a little bit less than 12pt (<a href="https://www.gnu.org/software/groff/manual/groff.html.node/Manipulating-Type-Size-and-Vertical-Spacing.html">10pt</a> to be exact), but it is very easy to change. Simply add this line to your plaintext document:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.nr PS 12
</code></pre></div></div>

<p>As for what <code class="language-plaintext highlighter-rouge">PS</code> stands for, it probably means something like “Point Size”; <code class="language-plaintext highlighter-rouge">.nr</code> stands for “Number Registers”.</p>

<h2 id="font-style-">Font Style <a name="fontstyle"></a></h2>

<p>Here is how to make your text <strong>bold</strong>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft B
</code></pre></div></div>

<p><em>italicised</em>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft I
</code></pre></div></div>

<p>or even <strong><em>both</em></strong>!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft BI
</code></pre></div></div>

<p>And to set it back to normal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft R \" Stands for Regular or Roman
</code></pre></div></div>

<h2 id="line-spacing-">Line Spacing <a name="linespacing"></a></h2>

<p>All parts of an APA-styled paper should be double-spaced according to <a href="https://apastyle.apa.org/style-grammar-guidelines/paper-format/line-spacing">this</a>. By default, <code class="language-plaintext highlighter-rouge">groff</code> uses <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Manipulating-Type-Size-and-Vertical-Spacing.html">120% of font size</a> as vertical spacing. Fortunately, changing this to double-spacing is just as simple as changing the font size: just set the vertical spacing (<code class="language-plaintext highlighter-rouge">.nr VS</code>) to double your font size (<code class="language-plaintext highlighter-rouge">.nr PS</code>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.nr VS 24
</code></pre></div></div>

<h1 id="in-text-citation-">In-text Citation <a name="intextcitation"></a></h1>

<p>It is finally about time to start getting into the actual citations after all that setting-up.</p>

<p><code class="language-plaintext highlighter-rouge">refer</code> uses numbered footnotes by default, but APA wants the author(s) and date included in their in-text citations. This section will cover how to do exactly as APA says.</p>

<h2 id="parenthetical-citation-">Parenthetical Citation <a name="parentheticalcitation"></a></h2>

<p>After some research, I found a <a href="https://preciouschicken.com/blog/posts/no-tears-references-groff">blog post “no-tears” guide</a>, 2 <a href="https://github.com/Koshkov/groff-paper-template">Github</a> <a href="https://github.com/skurtulmus/refer-styles">repositories</a>, and a post from the <a href="https://lists.gnu.org">GNU mailing list</a> (which I cannot seem to find anymore). I extracted the <code class="language-plaintext highlighter-rouge">refer</code> block (denoted by <code class="language-plaintext highlighter-rouge">.R1</code> and <code class="language-plaintext highlighter-rouge">.R2</code>) from all those sources and combined them to make a frankenstein that works perfectly for most APA parenthetical citations:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.R1 \" Refer block start
database ref.bib # Path to refer bibliography file from current working directory (can be absolute directory)
accumulate # Prints References at end of the document (same as `-e` argument for `refer`)
move-punctuation # Ensures citations appear before punctuations (same as `-P` argument for `refer`)
sort A+ # Sorts References in alphabetical order
label "(A1?(A1.n(A3?' et al.':A2&amp;' &amp; 'A2.n)):Q)', '(D.y|D)" # "Author(s), Date" format for parenthetical citation (joins author names using '&amp;' if 2 authors; appends 'et. al.' if 3 or more)
bracket-label " (" ) "; " # (same as `-S` argument for `refer`)
no-label-in-reference # Do not display (Author(s), Date) like footnotes in reference list
.R2 \" Refer block end
</code></pre></div></div>

<h2 id="narrative-citation-">Narrative Citation <a name="narrativecitation"></a></h2>

<p>My lecturer luckily did not require me to use narrative citations, but yours might. If you do have to use narrative citation, unfortunately, <code class="language-plaintext highlighter-rouge">refer</code> does not have any support for narrative citations being alongside parenthetical citations. While it is possible to repurpose the citation formatting part of the <code class="language-plaintext highlighter-rouge">refer</code> block to change it from parenthetical to narrative, it would still not be possible to have both narrative and parenthetical citation on the same page.</p>

<p>The only somewhat practical solution I see to this problem is to keep the <code class="language-plaintext highlighter-rouge">refer</code> block as-is and write the narrative citations manually. This will require you to have a separate document for producing the referencing for the narrative citations, because <code class="language-plaintext highlighter-rouge">refer</code> will not make entries for them in the reference list as it will not recognise the narrative citations that you manually typed in, treating them like ordinary text. This also means that you need to generate 2 separate output PDFs and extract the correct reference list from the one without narrative citations to merge with the other one that does. Any PDF-editing tool can be used for this, but the best free and open-source one that I found was <a href="https://github.com/pdfarranger/pdfarranger">PDFArranger</a>.</p>

<h1 id="reference-list-">Reference List <a name="referencelist"></a></h1>

<p>This section is where we start to dive into <code class="language-plaintext highlighter-rouge">refer</code>’s code (usually located inside either <code class="language-plaintext highlighter-rouge">/usr/share/groff/current/tmac</code> or <code class="language-plaintext highlighter-rouge">/usr/local/share/groff/current/tmac</code>). Rest assured, the changes that will be made will not be very complicated as long as you know 3 things: what to change, what to change them to, and where to find them (all 3 being what I had to figure out on my own by reading and tinkering with the source code).</p>

<h2 id="formatting-the-heading-">Formatting the Heading <a name="formattingtheheading"></a></h2>

<h2 id="authors-ands--ampersands-">Authors, Ands &amp; Ampersands <a name="authorsandsampersands"></a></h2>

<h3 id="effect-on-citations-">Effect on Citations <a name="effectoncitations"></a></h3>

<h2 id="space-between-entries-">Space Between Entries <a name="spacebetweenentries"></a></h2>

<h2 id="period-suppression-">Period Suppression <a name="periodsuppression"></a></h2>

<h1 id="exporting-as-pdf-">Exporting as PDF <a name="exportingaspdf"></a></h1>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="groff," /><category term="ms," /><category term="refer," /><category term="macro," /><category term="tmac," /><category term="APA," /><category term="style" /><category term="guide," /><category term="pdf" /><summary type="html"><![CDATA[Table of Contents]]></summary></entry><entry><title type="html">Dark Mode with CSS @media Queries</title><link href="http://localhost:4000/dark-mode" rel="alternate" type="text/html" title="Dark Mode with CSS @media Queries" /><published>2024-09-07T00:00:00+08:00</published><updated>2024-09-07T00:00:00+08:00</updated><id>http://localhost:4000/dark-mode</id><content type="html" xml:base="http://localhost:4000/dark-mode"><![CDATA[<h1 id="why-dark-mode">Why Dark Mode</h1>

<p>For users visiting a website in a dark room at night, it would be less straining for their eyes if the webpage was displayed in a darker colour to match the environment, which is what <a href="https://en.wikipedia.org/wiki/Light-on-dark_color_scheme">dark mode</a> does.</p>

<p><img src="https://zerowidthjoiner.net/uploads/2020/04-11/light-vs-dark.png" alt="Comparison image of light theme on the left and dark theme on the right." /></p>

<h1 id="how-to-do-it">How to do it</h1>

<p>From <a href="https://developer.mozilla.org/en-US">MDN Web Docs</a>:</p>
<blockquote>
  <p>The @media <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule">at-rule</a> can be used to apply part of a <a href="https://en.wikipedia.org/wiki/Style_sheet_(web_development)">style sheet</a> based on the result of one or more media queries. With it, you specify a media query and a block of CSS to apply to the document if and only if the media query matches the device on which the content is being used.</p>
</blockquote>

<h2 id="for-non-static-site-generator-websites">For Non-Static-Site-Generator Websites</h2>

<p>There also exists a <a href="https://youtu.be/g85LQVp0hGM">video guide by Eric Murphy on Youtube</a> if you prefer to follow along with a video.</p>

<h3 id="external-style-sheet">External Style Sheet</h3>

<p>To separate code between HTML and CSS, link an external CSS style sheet in the <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> tag in the HTML document. Like so:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- should resemble something like this --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
...
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"styles.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
...
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>And in your <code class="language-plaintext highlighter-rouge">styles.css</code>:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="with-the-style-html-tag">With the &lt;style&gt; HTML tag</h3>

<p>You can also type out your CSS code in between <code class="language-plaintext highlighter-rouge">&lt;style&gt;</code> tags if you prefer everything to be contained in one HTML document:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- something like this --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
...
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;style&gt;</span>
    <span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
        <span class="nt">body</span> <span class="p">{</span>
            <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
            <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
...
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="for-static-site-generator-websites">For Static-Site-Generator Websites</h2>

<p>It is a little bit less straightforward to do this with a static site generator like Jekyll (which has native support with Github Pages and is what this website uses) or Hugo as you have to override the theme’s CSS style sheet.</p>

<p>There is a <a href="https://tomkadwill.com/2017/12/16/how-to-override-css-styles-in-jekyll">blog post by Tom Kadwill on how to override your CSS styles in Jekyll</a> you can follow to create your SCSS file and after which you should get something that resembles this:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
<span class="nt">---</span>

<span class="k">@import</span> <span class="s1">"minima"</span><span class="p">;</span> <span class="c">/* replace minima inside the quotes with your Jekyll theme */</span>
</code></pre></div></div>

<p>And you should get something like this after adding the dark mode code.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
<span class="nt">---</span>

<span class="k">@import</span> <span class="s1">"minima"</span><span class="p">;</span> <span class="c">/* replace minima inside the quotes with your Jekyll theme */</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For other static-site-generator websites, you can refer to the official documentation found online for information on how to override your theme’s CSS.</p>

<h1 id="configure-giscus-theme">Configure Giscus Theme</h1>

<p>To set <code class="language-plaintext highlighter-rouge">giscus</code> comments to match the website if you have done the CSS <code class="language-plaintext highlighter-rouge">@media</code> trick shown above, simply set the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>’s <code class="language-plaintext highlighter-rouge">data-theme</code> attribute value to <code class="language-plaintext highlighter-rouge">"preferred_color_scheme"</code> as shown below.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://giscus.app/client.js"</span>
        <span class="err">...</span>
        <span class="err">...</span>
        <span class="err">...</span>
        <span class="na">data-theme=</span><span class="s">"preferred_color_scheme"</span>
        <span class="err">...</span>
        <span class="na">crossorigin=</span><span class="s">"anonymous"</span>
        <span class="na">async</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h1 id="why-not-use-a-toggleable-button-instead">Why Not Use a Toggleable Button Instead</h1>

<p>Rather than defaulting to light or dark mode and having a separate button for the user to manually switch to their preferred theme, it might be better to automatically default to what they already set their browser’s preferred theme to.</p>

<p>This is so they do not get flashbanged by their monitors at night if your website defaults to light theme and they open their browser to your website for the first time, if they did not toggle it to dark mode the last time they visited, or if your website does not store cookies about their previously toggled theme.</p>

<p>You can also include the button to toggle themes on the website alongside defaulting it if you want, but I find this an unnecessary use of <a href="https://www.javascript.com">Javascript</a>.</p>

<h1 id="conclusion">Conclusion</h1>

<p>If you found this blog post useful, leave a comment down below! Also check out how to add <code class="language-plaintext highlighter-rouge">giscus</code> comments to your own website on my <a href="/giscus-comments">previous guide for it</a>.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="dark" /><category term="mode," /><category term="theme," /><category term="night" /><category term="colour" /><category term="scheme," /><category term="jekyll," /><category term="css," /><category term="github" /><category term="pages," /><category term="static" /><category term="websites" /><summary type="html"><![CDATA[Why Dark Mode]]></summary></entry><entry><title type="html">Justify and Hyphenate Text on Websites using CSS</title><link href="http://localhost:4000/justify-text" rel="alternate" type="text/html" title="Justify and Hyphenate Text on Websites using CSS" /><published>2024-09-07T00:00:00+08:00</published><updated>2024-09-07T00:00:00+08:00</updated><id>http://localhost:4000/justify-text</id><content type="html" xml:base="http://localhost:4000/justify-text"><![CDATA[<p>You may have noticed while reading my blog posts that the way the text are aligned are a little different from the usual way the ones from other websites are — that they always align as blocks of text no matter how you change your browser window’s size. This is because I have justified the text on my website using CSS.</p>

<h1 id="how-to-justify">How to Justify</h1>

<p>It is actually pretty simple — to justify your body text, just add this to your CSS style sheet:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">justify</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This will justify your text so it all aligns neatly without jagged edges.</p>

<h1 id="how-to-hyphenate">How to Hyphenate</h1>

<p>Although there is a way to do this with Javascript using <a href="https://mnater.github.io/Hyphenopoly">Hyphenopoly.js</a>, hyphenation is a built-in functionality in CSS and it is widely supported by browsers.</p>

<p>To add hyphenation to your body text, simply add the <code class="language-plaintext highlighter-rouge">hyphens</code> property to your body section in your CSS style sheet and set it to <code class="language-plaintext highlighter-rouge">auto</code>, like so:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">hyphens</span><span class="p">:</span> <span class="nb">auto</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="why-hyphenate">Why Hyphenate</h1>

<p>So now your text wraps words using hyphens, but why do we need to use hyphens that ruin the perfect edges that justifying makes?</p>

<p>Text justification can make your paragraphs look tidier, but this has the potential side-effect of awkwardly stretching out the whitespace between words — which can create and worsen an undesirable effect commonly referred to as ‘rivers of white’, which is known to trip up dyslexic readers and decrease accessibility.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Typographic_river_marking.svg/1280px-Typographic_river_marking.svg.png" alt="Image from Wikipedia with visual marking around an example of a 'rivers of white' effect." /></p>

<p>This is also a common reason as to why justification is generally <a href="https://applewoodinteractive.com/accessibility/rivers-of-white-why-you-should-never-justify-your-text">not</a> <a href="https://maxwellforbes.com/posts/web-justified-text">recommended</a> for text output on the web.</p>

<p>By hyphenating, even though it does not solve it completely, it will reduce the effect dramatically.</p>

<h1 id="other-blogs-that-justify">Other Blogs That Justify</h1>

<p>Here are a list of other blogsites that I know of that use justified text:</p>
<ul>
  <li>Chris Noxz’s <a href="https://noxz.tech">noxz.tech</a>, which renders static HTML from <a href="https://www.gnu.org/software/groff"><code class="language-plaintext highlighter-rouge">groff</code></a>.</li>
  <li>Simon Johnston’s <a href="https://simonkjohnston.life">simonkjohnston.life</a>, which does not use hyphenation.</li>
  <li>Kyle Mcdonald’s <a href="https://kylemcdonald.net/psac">kylemcdonald.net</a>, which also does not hyphenate.</li>
  <li>Public Delivery’s <a href="https://publicdelivery.org">publicdelivery.org</a>, which also justifies without hyphens.</li>
  <li>JPEG XL’s <a href="https://jpegxl.info">jpegxl.info</a>, which had fixed its un-hyphenated text.</li>
</ul>

<h1 id="conclusion">Conclusion</h1>

<p>f you found this blog post useful, leave a comment down below! Also read how to add reactive dark-mode to your website in my <a href="/dark-mode">previous blog post</a>.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="justify," /><category term="text-align," /><category term="jekyll," /><category term="css" /><summary type="html"><![CDATA[You may have noticed while reading my blog posts that the way the text are aligned are a little different from the usual way the ones from other websites are — that they always align as blocks of text no matter how you change your browser window’s size. This is because I have justified the text on my website using CSS.]]></summary></entry><entry><title type="html">Comments on Github Pages with Giscus</title><link href="http://localhost:4000/giscus-comments" rel="alternate" type="text/html" title="Comments on Github Pages with Giscus" /><published>2024-05-24T00:00:00+08:00</published><updated>2024-05-24T00:00:00+08:00</updated><id>http://localhost:4000/giscus-comments</id><content type="html" xml:base="http://localhost:4000/giscus-comments"><![CDATA[<p>I added a commenting feature for the blog using <a href="https://giscus.app">giscus</a>. Basically, it uses <a href="https://docs.github.com/en/discussions">Github Discussions</a> to store comments instead of storing it in its own database on the web server. Since this website is hosted on <a href="https://docs.github.com/en/pages">Github Pages</a> and Pages only supports static websites, it cannot host its own databases to store things such as comments.</p>

<h1 id="try-it">Try it</h1>

<p>You can test it out yourself in the comments on blog post below by signing into your github account and commenting, or you can comment on the repository’s Github Discussions directly and it will show up on the comments section on the website similarly.</p>

<h1 id="add-it-to-your-own-github-pages-website">Add it to your own Github Pages website</h1>

<p>1) Make sure to enable Github Discussions on your website’s Github repository.</p>

<p>2) Navigate to <code class="language-plaintext highlighter-rouge">giscus.app</code> on your browser’s address bar and follow the instructions under the “Configuration” section to configure your <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag attribute values.</p>

<p>3) After you have done so, you can simply copy and paste it into your webpage!</p>

<hr />

<h1 id="note">Note</h1>

<p>Giscus finds and links the comments to the Github Discussions by searching through and matching URLs, path names, titles, and other such metadata. If you try to change a page’s title without editing the associated Github Discussion accordingly, it may lead to giscus not being able to find and link it to the Github Discussion (this is especially noticible if you set the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>’s <code class="language-plaintext highlighter-rouge">data-strict</code> attribute value to <code class="language-plaintext highlighter-rouge">"1"</code>), and hence Giscus will create a new Github Discussion.</p>

<p>Giscus also only creates Discussions when someone comments, so it is easier to go back and edit to fix some things on your post if you do not have any comments yet rather than when your post already has comments in its own Discussion and you have to manually copy across those changes.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="comments," /><category term="giscus," /><category term="github" /><category term="pages," /><category term="discussions," /><category term="static" /><category term="websites" /><summary type="html"><![CDATA[I added a commenting feature for the blog using giscus. Basically, it uses Github Discussions to store comments instead of storing it in its own database on the web server. Since this website is hosted on Github Pages and Pages only supports static websites, it cannot host its own databases to store things such as comments.]]></summary></entry></feed>