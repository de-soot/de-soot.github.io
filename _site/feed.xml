<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.10.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2025-12-09T21:52:30+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">de_soot</title><subtitle>Technical blog</subtitle><entry><title type="html">2’s Complement Derivation</title><link href="http://localhost:4000/2s-complement" rel="alternate" type="text/html" title="2’s Complement Derivation" /><published>2025-12-08T00:00:00+08:00</published><updated>2025-12-08T00:00:00+08:00</updated><id>http://localhost:4000/2s-complement</id><content type="html" xml:base="http://localhost:4000/2s-complement"><![CDATA[<p>If you have ever taken CS in high school or college, you have probably been taught about how to represent negative numbers in binary using 2’s complement.</p>

<p>But teachers generally just tell you to “flip the bits and add one” without really explaining why it works—similar to how high school teachers treat math formulas.</p>

<p>I have never liked memorising without understanding when it comes to learning, so I came up with an intuitive derivation and wrote this blog post to share it in hopes that somebody may find it useful.</p>

<h2 id="how-does-2s-complement-work">How Does 2’s Complement Work?</h2>

<p>Say there is a number <code class="language-plaintext highlighter-rouge">x</code> represented by <code class="language-plaintext highlighter-rouge">n</code> binary digits (bits).
Since each bit can be <code class="language-plaintext highlighter-rouge">0</code> or <code class="language-plaintext highlighter-rouge">1</code>, there are 2^n possible combinations for the string of bits that represent values ranging from zero to 2^n - 1, and thus <code class="language-plaintext highlighter-rouge">x</code> is always less than 2^n.</p>

<p>If we flip all the bits of <code class="language-plaintext highlighter-rouge">x</code> using the bitwise NOT operator (<code class="language-plaintext highlighter-rouge">~</code>), we get a new number with <code class="language-plaintext highlighter-rouge">1</code> bits where there were <code class="language-plaintext highlighter-rouge">0</code>’s in <code class="language-plaintext highlighter-rouge">x</code> and <code class="language-plaintext highlighter-rouge">0</code> bits where there were <code class="language-plaintext highlighter-rouge">1</code>’s in <code class="language-plaintext highlighter-rouge">x</code>.
We will call this new number <code class="language-plaintext highlighter-rouge">~x</code>, where <code class="language-plaintext highlighter-rouge">x + ~x = 2^n - 1</code>, since 2^n - 1 has all <code class="language-plaintext highlighter-rouge">n</code> number of bits set to <code class="language-plaintext highlighter-rouge">1</code>.</p>

<p>Rearranging the above equation for <code class="language-plaintext highlighter-rouge">x</code>, we get <code class="language-plaintext highlighter-rouge">x = (2^n - 1) - ~x</code>.
It is then easy to find that</p>

<p><code class="language-plaintext highlighter-rouge">-x = -(2^n - 1 - ~x) = -2^n + 1 + ~x</code>.</p>

<p>Now start to see the picture of where “flip the bits and add one” comes from.</p>

<p>But we cannot just flip bits and add 1 to get <code class="language-plaintext highlighter-rouge">-x</code> with ordinary bits, that would just be <code class="language-plaintext highlighter-rouge">~x + 1</code>.
We are still missing the <code class="language-plaintext highlighter-rouge">-2^n</code> in the equation, but how would we get that?</p>

<p>Currently, since the value of the most significant bit is <code class="language-plaintext highlighter-rouge">2^(n-1)</code>, if we add another bit from the left, its place value would be <code class="language-plaintext highlighter-rouge">2^(n-1) * 2 = 2^n</code>.
Now all we have to do is define the value of that new bit to be negative to get <code class="language-plaintext highlighter-rouge">-2^n</code>.
When we flip the bits of <code class="language-plaintext highlighter-rouge">x</code>, this new bit we added will also get flipped along with it.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Putting all the pieces together, we get that for a number <code class="language-plaintext highlighter-rouge">x</code> represented by <code class="language-plaintext highlighter-rouge">n</code> bits (with an extra bit having a place value of <code class="language-plaintext highlighter-rouge">-2^n</code>) where <code class="language-plaintext highlighter-rouge">x = (2^n - 1) - ~x</code>, you would need to flip its bits and add one to get <code class="language-plaintext highlighter-rouge">-2^n + ~x + 1 = -x</code>.</p>

<p>Hopefully after reading this, you will have gained a better understanding of using 2’s complement for converting binary numbers to negative.</p>]]></content><author><name></name></author><category term="cs," /><category term="binary," /><category term="bits," /><category term="negative" /><category term="numbers," /><category term="derivation," /><category term="proof," /><category term="math," /><category term="2&apos;s" /><category term="complement" /><summary type="html"><![CDATA[If you have ever taken CS in high school or college, you have probably been taught about how to represent negative numbers in binary using 2’s complement.]]></summary></entry><entry><title type="html">Guide to APA with groff ms and refer</title><link href="http://localhost:4000/groff-apa" rel="alternate" type="text/html" title="Guide to APA with groff ms and refer" /><published>2025-02-20T00:00:00+08:00</published><updated>2025-02-20T00:00:00+08:00</updated><id>http://localhost:4000/groff-apa</id><content type="html" xml:base="http://localhost:4000/groff-apa"><![CDATA[<p>This guide explains why and how I used groff with the ms and refer macros to write my college essay in Neovim.</p>

<h1 id="1-table-of-contents-">1. Table of Contents <a name="tableofcontents"></a></h1>

<ol>
  <li>
    <p><a href="/groff-apa#tableofcontents">Table of Contents</a></p>
  </li>
  <li>
    <p><a href="/groff-apa#preface">Preface</a></p>
  </li>
  <li>
    <p><a href="/groff-apa#introduction">Introduction</a></p>
  </li>
  <li>
    <p><a href="/groff-apa#prerequisites">Prerequisites</a></p>
  </li>
  <li>
    <p><a href="/groff-apa#coverpage">Cover Page</a></p>
  </li>
  <li>
    <p><a href="/groff-apa#pagenumbering">Page Numbering</a></p>
  </li>
  <li><a href="/groff-apa#font">Font</a>
    <ul>
      <li><a href="/groff-apa#fontfamily">Font Family</a>
        <ul>
          <li><a href="/groff-apa#defaultfonts">Default Fonts</a></li>
          <li><a href="/groff-apa#customfonts">Custom Fonts</a></li>
        </ul>
      </li>
      <li><a href="/groff-apa#fontsize">Font Size</a></li>
      <li><a href="/groff-apa#linespacing">Line Spacing</a></li>
      <li><a href="/groff-apa#fontstyle">Font Style</a></li>
    </ul>
  </li>
  <li><a href="/groff-apa#intextcitation">In-text Citation</a>
    <ul>
      <li><a href="/groff-apa#parentheticalcitation">Parenthetical Citation</a></li>
      <li><a href="/groff-apa#narrativecitation">Narrative Citation</a></li>
    </ul>
  </li>
  <li><a href="/groff-apa#referencelist">Reference List</a>
    <ul>
      <li><a href="/groff-apa#formattingtheheading">Formatting the Heading</a></li>
      <li><a href="/groff-apa#spacebetweenentries">Space Between Entries</a></li>
      <li><a href="/groff-apa#fieldordering">Field Ordering</a></li>
      <li><a href="/groff-apa#punctuation">Punctuation</a>
        <ul>
          <li><a href="/groff-apa#periodsuppression">Period Suppression</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p><a href="/groff-apa#exportingaspdf">Exporting as PDF</a></p>
  </li>
  <li><a href="/groff-apa#conclusion">Conclusion</a></li>
</ol>

<h1 id="2-preface-">2. Preface <a name="preface"></a></h1>

<p>Many colleges give students a mandatory class where they learn how to cite and do referencing in essays.</p>

<p>For my essay, I wrote it using <a href="https://neovim.io">Neovim</a>, the same terminal text-editor I code on and write blogs for my website with, and that would not have been possible without a word processor that can compile documents from plaintext (unlike What-You-See-Is-What-You-Get (WYSIWYG) word processors, such as <a href="https://www.libreoffice.org">LibreOffice</a> <a href="https://www.libreoffice.org/discover/writer">Writer</a>). As you could tell from the title of this blog post, I used <a href="https://www.gnu.org/software/groff">groff</a> to accomplish this.</p>

<p>Although some of the modifications detailed in this guide are specific to APA, you do not have to be writing in APA to find this guide helpful. Just adapt some of the specific changes made in this guide to suit your style guide.</p>

<p>This blog guide mainly just serves to compile all the relevant research I had done into a simple step-by-step solution I can easily follow when I want to use groff to write essays in APA again, but it also hopes to help others who were in the same spot I was save themselves some time and frustration that I had to go through when figuring things out by myself for the first time.</p>

<p>I made a <a href="https://github.com/de-soot/groff-apa">Github repository</a> as a companion to this guide. It gives an example of the final generated output so you know exactly what you are going to get out of this. The source files included in the repository have some extra comments to help readability and can also be used as a template to quickly set things up to just get started writing.</p>

<p>A fun fact about this blog post: this is actually my second time writing this whole thing because I frustratingly lost the first one in the dumbest way possible. I accidentally deleted the folder containing it because I forgot that I put it in the folder. Unfortunately, it was already gone by the time I realised due to the auto-emptying routine of my Trash folder scheduled to run once every hour.</p>

<h1 id="3-introduction-">3. Introduction <a name="introduction"></a></h1>

<p>The <a href="https://apa.org">American Psychological Association</a> (APA) 7th Edition <a href="https://apastyle.apa.org">style guide</a> is the most popular for formatting references and citations in college-level essays (at least that was what my lecturer said when they gave out the writing assignment).</p>

<p><a href="https://gnu.org">GNU</a> <a href="https://troff.org">(t)roff</a> (abbreviated as groff) is an older and more lightweight but less well-known typesetting alternative to <a href="https://www.latex-project.org">LaTeX</a> (which is popular for writing academic papers) that comes preinstalled in most <a href="https://en.wikipedia.org/wiki/GNU/Linux_naming_controversy">GNU/Linux</a> distributions. If it was not for the massive size of a LaTeX install (&gt;2GB vs. groff’s &lt;10MB), I likely would not have used groff. groff also has a simpler syntax and compiles in an instant compared to LaTeX, which are some of the things that further convinced me to stick with groff even when I got stuck and lost at times.</p>

<p>The <a href="https://www.gnu.org/software/groff/manual/groff.html.node/ms.html">ms</a> (“manuscript”) macros were the earliest and are largely seen as the “default” set of macros for writing in groff, so it should have the most documentation out of any other macro packages. That was the main reason I chose to use the it instead of other macros, as well as having already experimented with writing basic documents with ms previously.</p>

<p>However, groff by itself cannot do citations and referencing out-of-the-box. Fortunately, it does come with a preprocessor called refer that does the citing and referencing for it. Although the defaults for refer do not conform to APA guidelines, it is not too complex to change those defaults to match any style guide as long as you know where to find the right things to change.</p>

<h1 id="4-prerequisites-">4. Prerequisites <a name="prerequisites"></a></h1>

<p>This guide assumes you are using a Unix-based system (e.g. GNU/Linux, *BSD, macOS, etc.) and already know how to write and compile basic <code class="language-plaintext highlighter-rouge">groff ms</code> documents to Portable Document Format (PDF). If not, do not worry. There are many resources online for getting started, such as Luke Smith’s videos on <a href="https://videos.lukesmith.xyz/w/eDqgKby1W4sHQGZgqZbMLe">groff</a> and <a href="https://videos.lukesmith.xyz/w/5ANbTYv7cgF69FhpAkVBwi">refer</a>. For more detail, see GNU’s official <a href="https://www.gnu.org/software/groff/manual/groff.html">manual</a> or <code class="language-plaintext highlighter-rouge">troff</code>’s <a href="https://troff.org/TheGroffFriendsHowto.pdf">HOWTO</a>.</p>

<h1 id="5-cover-page-">5. Cover Page <a name="coverpage"></a></h1>

<p>My assignment did not require me to include a cover page, but yours might. By default, groff puts cover page information on the same page as the essay. Luckily, the ms macros contain a convenient way to change this. Just put <a href="https://linux.die.net/man/7/groff_ms"><code class="language-plaintext highlighter-rouge">.RP no</code></a> as the first line of your document (<code class="language-plaintext highlighter-rouge">.RP</code> stands for “report”; the <code class="language-plaintext highlighter-rouge">no</code> argument tells it to not repeat the cover page information on the next page):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.RP no
</code></pre></div></div>

<p>This is also needed for the next section on page numbering.</p>

<h1 id="6-page-numbering-">6. Page Numbering <a name="pagenumbering"></a></h1>

<p>The first page does not have any headers (including page numbering) because groff expects it to include cover page information (i.e. the title of the paper; optionally author(s), institution(s), date, and abstract).</p>

<p>If you followed the steps on the previous section on the cover page, you might be confused as to why the first page after the cover page still does not have any page numbering while the page after it starts with the page numbering of ‘2’. This is because although groff started counting page numbers on the first page after the cover page, it still suppresses the first page by default.</p>

<p>When we used the <code class="language-plaintext highlighter-rouge">.RP no</code> macro (also needed for this section) to move the cover page information into its own page, we simply created a new “page 0” that groff does not know about (which is also why groff does not count it in the page numbering).</p>

<p>There is another macro we can use to fix this. Place <code class="language-plaintext highlighter-rouge">.P1</code> below <code class="language-plaintext highlighter-rouge">.RP no</code> to unsuppress the first page header (page numbering):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.RP no
.P1
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">.RP no</code> macro is needed for this, but it produces a cover page. Use PDF-editing software to delete it if it is unwanted. Any tool can be used for this, but the best one I found is <a href="https://github.com/pdfarranger/pdfarranger">PDFArranger</a>.</p>

<p><code class="language-plaintext highlighter-rouge">.P1</code> does not work by itself without <code class="language-plaintext highlighter-rouge">.RP no</code> likely because groff suppresses headers on any page with cover page information, even if you make them empty by doing this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.TL
.AB no
.AE
</code></pre></div></div>

<p>which works because even though the title (<code class="language-plaintext highlighter-rouge">.TL</code>) is required, it stops at the abstract (<code class="language-plaintext highlighter-rouge">.AB</code>, which ends at <code class="language-plaintext highlighter-rouge">.AE</code>; the <code class="language-plaintext highlighter-rouge">no</code> argument suppresses the “Abstract” heading).</p>

<h2 id="61-suppress-page-headers-">6.1 Suppress Page Headers <a name="suppressheader"></a></h2>

<p>If instead you want to <strong>not</strong> have any page headers (including page numbering) for reasons such as plagerism report checkers potentially producing errors, disabling automatic page numbering is as easy as defining the central header to be empty:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds CH
</code></pre></div></div>

<h1 id="7-font-">7. Font <a name="font"></a></h1>

<p>Many lecturers demand assignments to be submitted in double-spaced Times New Roman in 12 point size. This section covers how to change the font family, size, style, and line spacing.</p>

<h2 id="71-font-family-">7.1 Font Family <a name="fontfamily"></a></h2>

<p>By default, groff already outputs text in your <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Using-Fonts.html">device’s default serif font family</a> (typically Times New Roman), but sometimes (very rarely, in my experience) lecturers prefer sans-serif or even monospace in some cases.</p>

<h3 id="711-default-fonts-">7.1.1 Default Fonts <a name="defaultfonts"></a></h3>

<p>Changing to another one of the default fonts in groff is simple.</p>

<p>This is how to change it to device’s default <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Font-Families.html">sans-serif</a>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds FAM H \" Helvetica
</code></pre></div></div>

<p>monospace,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds FAM C \" Courier
</code></pre></div></div>

<p>and (back to) serif font family:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds FAM T \" Times New Roman
</code></pre></div></div>

<p>There are many other default fonts in groff listed in <a href="https://technicallywewrite.com/2024/04/12/changefonts">this post</a>.</p>

<h3 id="712-custom-fonts-">7.1.2 Custom Fonts <a name="customfonts"></a></h3>

<p>Installing custom fonts for groff is a little bit trickier; I have not been able to get it to work on my device yet. I did find a <a href="https://www.port.de/cgi-bin/groff/AddingFonts">guide that seemed promising</a> though. Maybe I will revisit this if I get it working in the future.</p>

<h2 id="72-font-size-">7.2 Font Size <a name="fontsize"></a></h2>

<p>The default font size in groff is a little bit less than 12pt (<a href="https://www.gnu.org/software/groff/manual/groff.html.node/Manipulating-Type-Size-and-Vertical-Spacing.html">10pt</a>, to be exact), but it is very easy to change. Simply add this line to your plaintext document to change the font size to 12pt:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.nr PS 12
</code></pre></div></div>

<p>As for what <code class="language-plaintext highlighter-rouge">PS</code> stands for, it probably means something like “Point Size”; <code class="language-plaintext highlighter-rouge">.nr</code> stands for “Number Registers”.</p>

<h2 id="73-line-spacing-">7.3 Line Spacing <a name="linespacing"></a></h2>

<p>All parts of an APA-styled paper <a href="https://apastyle.apa.org/style-grammar-guidelines/paper-format/line-spacing">should be double-spaced</a>. By default, groff uses <a href="https://www.gnu.org/software/groff/manual/groff.html.node/Manipulating-Type-Size-and-Vertical-Spacing.html">120% of font size</a> as vertical spacing. Fortunately, changing this to double-spacing is just as simple as changing the font size: just set the vertical spacing (<code class="language-plaintext highlighter-rouge">.nr VS</code>) to double your font size (<code class="language-plaintext highlighter-rouge">.nr PS</code>).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.nr VS 24
</code></pre></div></div>

<h2 id="74-font-style-">7.4 Font Style <a name="fontstyle"></a></h2>

<p>Here is how to make your text <strong>bold</strong>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft B
</code></pre></div></div>

<p>or <em>italicised</em>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft I
</code></pre></div></div>

<p>And to set it back to normal:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ft R \" Stands for Regular or Roman
</code></pre></div></div>

<h1 id="8-in-text-citation-">8. In-text Citation <a name="intextcitation"></a></h1>

<p>Now that everything is set up, we can start to get into the citations.</p>

<p>refer uses numbered footnotes by default, but APA wants the author(s) and date included in their in-text citations. This section will cover how to do exactly as APA says.</p>

<h2 id="81-parenthetical-citation-">8.1 Parenthetical Citation <a name="parentheticalcitation"></a></h2>

<p>After some research, I found a <a href="https://preciouschicken.com/blog/posts/no-tears-references-groff">blog post “no-tears” guide</a>, 2 <a href="https://github.com/Koshkov/groff-paper-template">Github</a> <a href="https://github.com/skurtulmus/refer-styles">repositories</a>, and a post from the <a href="https://lists.gnu.org">GNU mailing list archive</a> (which I cannot seem to find anymore). I extracted the refer block (denoted by <code class="language-plaintext highlighter-rouge">.R1</code> and <code class="language-plaintext highlighter-rouge">.R2</code>) from all those sources and combined them to make a frankenstein that works perfectly for most APA parenthetical citations:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.R1 \" Refer block start
database ref.bib # Path to refer bibliography file from current working directory (can also be absolute directory)
accumulate # Prints References at end of the document (same as `-e` argument for refer)
move-punctuation # Ensures citations appear before punctuations (same as `-P` argument for refer)
sort A+ # Sorts References in alphabetical order
label "(A1?(A1.n(A3?' et al.':A2&amp;' &amp; 'A2.n)):Q)', '(D.y|D)" # "Author(s), Date" format for parenthetical citation (joins author names using '&amp;' if 2 authors; appends 'et. al.' if 3 or more)
bracket-label " (" ) "; " # (same as `-S` argument for refer)
no-label-in-reference # Do not display (Author(s), Date) like footnotes in reference list
join-authors " &amp; " ", " " &amp; " # Change default "and" to ampersand (&amp;) when joining author names in reference entry
.R2 \" Refer block end
</code></pre></div></div>

<h2 id="82-narrative-citation-">8.2 Narrative Citation <a name="narrativecitation"></a></h2>

<p>My lecturer luckily did not require me to use narrative citations, but yours might. If you do have to use narrative citation, unfortunately, refer does not have any support for narrative citations being alongside parenthetical citations. While it is possible to repurpose the citation formatting part of the refer block to change it from parenthetical to narrative, it would still not be possible to have both narrative and parenthetical citation on the same page.</p>

<p>The only practical solution I can think of for this problem is to keep the refer block as-is and write the narrative citations manually. This will require you to have a separate document for producing the referencing for the narrative citations, because refer will not make entries for them in the reference list as it will not recognise the narrative citations that you manually typed in, treating them like ordinary text. This also means that you need to generate 2 separate output PDFs and extract the correct reference list from the one without narrative citations to merge (using PDF-editing software) with the other one that does.</p>

<h1 id="9-reference-list-">9. Reference List <a name="referencelist"></a></h1>

<p>This section is where we start to dive into refer’s code (usually located inside either <code class="language-plaintext highlighter-rouge">/usr/share/groff/current/tmac</code> or <code class="language-plaintext highlighter-rouge">/usr/local/share/groff/current/tmac</code>). Rest assured, the changes that will be made will not be difficult as long as you know 3 things: what to change, what to change them to, and where to find them (all 3 being what I had to figure out on my own by reading and tinkering with the source code).</p>

<h2 id="91-formatting-the-heading-">9.1 Formatting the Heading <a name="formattingtheheading"></a></h2>

<p>The “References” heading is left-aligned by default, whereas <a href="https://apastyle.apa.org/style-grammar-guidelines/paper-format/reference-list">APA wants it centered</a>. Some extra changes not specified by APA my lecturer wanted were to make the Heading a little bigger and add an extra line of space below it.</p>

<p>On lines 75–79 of <code class="language-plaintext highlighter-rouge">refer-ms.tmac</code>, you will find this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.de ref*biblio-start-hook
.  SH
.  nop \&amp;\\*[REFERENCES]
.  par@reset
..
</code></pre></div></div>

<p>And this is what it will look like fixing the issues (lines that are commented out (denoted by <code class="language-plaintext highlighter-rouge">\"</code>) do not strictly conform to APA, uncomment them to use them):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.de ref*biblio-start-hook
.\"  nr PS 14
.  SH
.  ce
.  nop \&amp;\\*[REFERENCES]
.\"  sp 2
.\"  nr PS 12
.  par@reset
..
</code></pre></div></div>

<p>Below is a list explaining each change made:</p>

<ul>
  <li>To make the heading centered, put <code class="language-plaintext highlighter-rouge">.ce</code> above where the heading is rendered (<code class="language-plaintext highlighter-rouge">.nop \%\\*[REFERENCES]</code>).</li>
  <li>(Optional) <code class="language-plaintext highlighter-rouge">.nr PS 14</code> above it increases the font size to 14pt, just remember to reset it back to normal (12pt) with <code class="language-plaintext highlighter-rouge">.nr PS 12</code> after.</li>
  <li>(Optional) <code class="language-plaintext highlighter-rouge">.sp 2</code> adds two extra lines of space below the heading.</li>
</ul>

<h2 id="92-space-between-entries-">9.2 Space Between Entries <a name="spacebetweenentries"></a></h2>

<p>There is no space between reference entries by default. This is already conforming to APA, but my lecturer wanted extra padding between the entries (even if that meant <a href="https://apastyle.apa.org/style-grammar-guidelines/paper-format/reference-list">breaking APA guidelines</a>) and maybe yours might too.</p>

<p>Inside <code class="language-plaintext highlighter-rouge">refer-ms.tmac</code> on lines 44–45, you can find this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.de ref*biblio-item-end
..
</code></pre></div></div>

<p>(Optional) Just like how we added a space below the “References” heading, use <code class="language-plaintext highlighter-rouge">.sp</code> to add a line of space between each entry in the reference list:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.de ref*biblio-item-end
.  sp
..
</code></pre></div></div>

<h2 id="93-field-ordering-">9.3 Field Ordering <a name="fieldordering"></a></h2>

<p>The way refer orders the fields of each reference entry is hard-coded and different from what APA desires. More specifically, the date field is placed after the title field instead of being in between it and the author(s) field.</p>

<p>There will be these 5 lines that dictate the order of the fields of each entry on lines 53–57 of <code class="language-plaintext highlighter-rouge">refer-ms.tmac</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds ref*spec!0  Q A T S V N P I C D O
.ds ref*spec!1  Q A T J S V N P I C D O
.ds ref*spec!2  Q A T S V P I C D O
.ds ref*spec!3  Q A T B E S V P I C D O
.ds ref*spec!4  Q A T R G P I C D O
</code></pre></div></div>

<p>Documentation for what each of the <code class="language-plaintext highlighter-rouge">ref*spec!N</code> mean can be found in the comments at the top of <code class="language-plaintext highlighter-rouge">refer.tmac</code> on lines 67–71:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.\"   ref*spec!0  Q A T S V N P I C D O      -- other
.\"   ref*spec!1  Q A T J S V N P I C D O    -- journal article
.\"   ref*spec!2  Q A T S V P I C D O        -- book
.\"   ref*spec!3  Q A T B E S V P I C D O    -- article within book
.\"   ref*spec!4  Q A T R G P I C D O        -- technical report
</code></pre></div></div>

<p>The values for the letters after the <code class="language-plaintext highlighter-rouge">ref*spec!N</code> are specified in the bibliography file linked in the refer block (<code class="language-plaintext highlighter-rouge">ref.bib</code>).</p>

<p>Rearranging <code class="language-plaintext highlighter-rouge">D</code> (date) into the correct order (right after <code class="language-plaintext highlighter-rouge">A</code> (author(s)) and before <code class="language-plaintext highlighter-rouge">T</code> (title)):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds ref*spec!0  Q A D T S V N P I C O
.ds ref*spec!1  Q A D T J S V N P I C O
.ds ref*spec!2  Q A D T S V P I C O
.ds ref*spec!3  Q A D T B E S V P I C O
.ds ref*spec!4  Q A D T R G P I C O
</code></pre></div></div>

<h2 id="94-punctuation-">9.4 Punctuation <a name="punctuation"></a></h2>

<p>Switching the order of the fields messes up the hard-coded punctuation order, but there are also some defaults that do not follow APA guidelines.</p>

<p>Go to lines 59–73 of <code class="language-plaintext highlighter-rouge">refer-ms.tmac</code>, where you will find this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds ref*spec!A     ",  " "
.ds ref*spec!B     """ " " "in \fI" ""    "\fP"
.ds ref*spec!D     """ " " "("      ")"
.ds ref*spec!E     ",  " " "ed. "
.ds ref*spec!G     """ " " "("      ")"
.ds ref*spec!J     ",  " " "\fI"    ""    "\fP"
.ds ref*spec!N     """ "(" ""       ")"
.ds ref*spec!O     ".  " "
.ds ref*spec!P     ",  " " "p.\~"
.ds ref*spec!PP    ",  " " "pp.\~"
.ds ref*spec!T     ",  " " "\\*Q"   ""    "\\*U"
.ds ref*spec!T:0   ",  " " "\fI"    ""    "\fP"
.ds ref*spec!T:2   ",  " " "\fI"    ""    "\fP"
.ds ref*spec!V     """ " " "\fB"    "\fR"
.ds ref*spec!dflt  ",  " "
</code></pre></div></div>

<p>It will look like nonsense at first, but documentation can be found in the comments of <code class="language-plaintext highlighter-rouge">refer.tmac</code> on lines 84–110:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.\"   arg 1  the punctuation character to use to separate this field
.\"          from the previous field
.\"   arg 2  a string to insert after the punctuation character of the
.\"          previous field (normally a space)
.\"   arg 3  a string with which to prefix this field
.\"   arg 4  a string with which to postfix this field
.\"   arg 5  a string to add after the punctuation character supplied
.\"          by the next field
.\"
.\"                  1  2   3        4     5
.\"   ------------------------------------------------------------------
.\"   ref*spec!A     ,  " "                       -- author name
.\"   ref*spec!B     "" " " "in \fI" ""    "\fP"  -- bk title of article
.\"   ref*spec!D     "" " " "("      ")"          -- date of publication
.\"   ref*spec!E     ,  " " "ed. "                -- editor
.\"   ref*spec!G     "" " " "("      ")"          -- US Gov. ordering #
.\"   ref*spec!J     ,  " " "\fI"    ""    "\fP"  -- journal name
.\"   ref*spec!N     "" "(" ""       ")"          -- issue number
.\"   ref*spec!O     .  " "                       -- other information
.\"   ref*spec!P     ,  " " "p.\~"                -- page
.\"   ref*spec!PP    ,  " " "pp.\~"               -- page range
.\"   ref*spec!T     ,  " " "\\*Q"   ""    "\\*U" -- journal title
.\"   ref*spec!T:0   ,  " " "\fI"    ""    "\fP"  -- book title (other)
.\"   ref*spec!T:2   ,  " " "\fI"    ""    "\fP"  -- book title (book)
.\"   ref*spec!V     "" " " "\fB"    "\fR"        -- volume number
.\"
.\"   ref*spec!dflt  ,  " "                       -- all other entries
</code></pre></div></div>

<p>This is how it looks like after some changes:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.ds ref*spec!A     ",  " "
.ds ref*spec!B     """ " " "in \fI" "\fP"
.ds ref*spec!D     """ " " "("      ")"
.ds ref*spec!E     ",  " " "ed. "   ""
.ds ref*spec!G     """ " " "("      ")"
.ds ref*spec!J     ".  " " "\fI"    "\fP"
.ds ref*spec!N     """ "(" ""       ")"
.ds ref*spec!O     ".  " "
.ds ref*spec!P     ",  " " "\~"
.ds ref*spec!PP    ",  " " "\~"
.ds ref*spec!T     ".  " "
.ds ref*spec!T:0   ".  " "
.ds ref*spec!T:2   ".  " "
.ds ref*spec!V     ",  " " "\fI"    "\fR"
.ds ref*spec!dflt  ",  " "
</code></pre></div></div>

<p>The list below details the changes:</p>

<ul>
  <li>In the <code class="language-plaintext highlighter-rouge">.ds ref*spec!J</code> row, its <code class="language-plaintext highlighter-rouge">arg 1</code> is changed from a comma (<code class="language-plaintext highlighter-rouge">,</code>) to a period (<code class="language-plaintext highlighter-rouge">.</code>) to add a period after the title field.</li>
  <li>In the <code class="language-plaintext highlighter-rouge">.ds ref*spec!T</code> row, <code class="language-plaintext highlighter-rouge">\\*Q</code> and <code class="language-plaintext highlighter-rouge">\\*U</code> are removed to remove the opening and closing double quotation marks, respectively, around the title field.</li>
  <li>In both the <code class="language-plaintext highlighter-rouge">.ds ref*spec!T:0</code> and <code class="language-plaintext highlighter-rouge">.ds ref*spec!T:2</code> rows, <code class="language-plaintext highlighter-rouge">\fI</code> in <code class="language-plaintext highlighter-rouge">arg 3</code> and <code class="language-plaintext highlighter-rouge">\fP</code> in <code class="language-plaintext highlighter-rouge">arg 5</code> are removed to not italicise the text and because of redundancy (<code class="language-plaintext highlighter-rouge">\fP</code> resets font style back to the previous style), respectively.</li>
  <li>In the <code class="language-plaintext highlighter-rouge">.ds ref*spec!V</code> row, its <code class="language-plaintext highlighter-rouge">arg 1</code> is changed from empty (<code class="language-plaintext highlighter-rouge">""</code>) to a comma (<code class="language-plaintext highlighter-rouge">,</code>) to add a comma after the journal/periodical field; its <code class="language-plaintext highlighter-rouge">arg 3</code> is changed from bold-ing (<code class="language-plaintext highlighter-rouge">\fI</code>) to italicising (<code class="language-plaintext highlighter-rouge">\fB</code>) the text.</li>
  <li>All <code class="language-plaintext highlighter-rouge">\fP</code> in <code class="language-plaintext highlighter-rouge">arg 5</code> are moved to <code class="language-plaintext highlighter-rouge">arg 4</code> to make sure the punctuations after each field are not in bold or italics.</li>
  <li>When numbering pages, APA does not denote with <code class="language-plaintext highlighter-rouge">p.</code> for single pages or <code class="language-plaintext highlighter-rouge">pp.</code> for page ranges, so they were removed in their respective rows.</li>
</ul>

<h3 id="941-period-suppression-">9.4.1 Period Suppression <a name="periodsuppression"></a></h3>

<p>By default, refer appends a period at the end of each entry. This means that a period is added after the last field that contains a DOI or URL, which APA has <a href="https://apastyle.apa.org/instructional-aids/reference-guide.pdf">explicitly stated to not do</a>.</p>

<p>To fix this, first go into <code class="language-plaintext highlighter-rouge">refer.tmac</code>, where you will find this on lines 210–213:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.	\" now add a final period
.	ie d ref*string \{\
.		if !\\n[ref*suppress-period] \
.			as ref*string .
</code></pre></div></div>

<p>Now just remove the period (<code class="language-plaintext highlighter-rouge">.</code>) on the last line (213):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.	\" now add a final period
.	ie d ref*string \{\
.		if !\\n[ref*suppress-period] \
.			as ref*string
</code></pre></div></div>

<h1 id="10-exporting-as-pdf-">10. Exporting as PDF <a name="exportingaspdf"></a></h1>

<p>The plaintext document can be compiled with either <code class="language-plaintext highlighter-rouge">groff</code>,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>groff -ms -Tpdf -R -dpaper=a4 -P-pa4 sample.ms &gt; sample.pdf
</code></pre></div></div>

<p>or <code class="language-plaintext highlighter-rouge">pdfroff</code> (which is just a wrapper around <code class="language-plaintext highlighter-rouge">groff</code>):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdfroff -ms -R -dpaper=a4 -P-pa4 sample.ms &gt; sample.pdf
</code></pre></div></div>

<p>I found that <code class="language-plaintext highlighter-rouge">pdfroff</code> produces better-looking text output, but it may need to be installed separately for macOS, which uses an older version of <code class="language-plaintext highlighter-rouge">groff</code> that does not come packaged with <code class="language-plaintext highlighter-rouge">pdfroff</code>.</p>

<p>Below is a list explaining what each of the optional arguments mean:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">-ms</code> selects ms macros.</li>
  <li><code class="language-plaintext highlighter-rouge">-Tpdf</code> compiles it to PDF; it is not needed for <code class="language-plaintext highlighter-rouge">pdfroff</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">-R</code> selects refer macros.</li>
  <li>(Optional) <code class="language-plaintext highlighter-rouge">-dpaper=a4</code> and <code class="language-plaintext highlighter-rouge">-P-pa4</code> exports the paper to the international-standard A4 size instead of the default US letter.</li>
</ul>

<h1 id="11-conclusion-">11. Conclusion <a name="conclusion"></a></h1>

<p>If you found this helpful in any way or have any questions, feel free to leave a comment below. Also read my <a href="/justify-text">previous guide</a> on how I justify and hyphenate the text on this website.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="groff," /><category term="ms," /><category term="refer," /><category term="macro," /><category term="tmac," /><category term="APA," /><category term="style" /><category term="guide," /><category term="pdf" /><summary type="html"><![CDATA[This guide explains why and how I used groff with the ms and refer macros to write my college essay in Neovim.]]></summary></entry><entry><title type="html">Dark Mode without Javascript</title><link href="http://localhost:4000/dark-mode" rel="alternate" type="text/html" title="Dark Mode without Javascript" /><published>2024-09-07T00:00:00+08:00</published><updated>2024-09-07T00:00:00+08:00</updated><id>http://localhost:4000/dark-mode</id><content type="html" xml:base="http://localhost:4000/dark-mode"><![CDATA[<p>This guide explains why and how to easily make a dark theme for your website using CSS <code class="language-plaintext highlighter-rouge">@media</code> queries.</p>

<p>Alternative title: System default theme for websites</p>

<h1 id="why-dark-mode">Why Dark Mode</h1>

<p>For users visiting a website in a dark room at night, it would be less straining for their eyes if the webpage was displayed in a darker colour to match the environment, which is what <a href="https://en.wikipedia.org/wiki/Light-on-dark_color_scheme">dark mode</a> does.</p>

<p><img src="https://zerowidthjoiner.net/uploads/2020/04-11/light-vs-dark.png" alt="Comparison image of light theme on the left and dark theme on the right." /></p>

<h1 id="how-to-do-it">How to do it</h1>

<p>From <a href="https://developer.mozilla.org/en-US">MDN Web Docs</a>:</p>
<blockquote>
  <p>The @media <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a> <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/At-rule">at-rule</a> can be used to apply part of a <a href="https://en.wikipedia.org/wiki/Style_sheet_(web_development)">style sheet</a> based on the result of one or more media queries. With it, you specify a media query and a block of CSS to apply to the document if and only if the media query matches the device on which the content is being used.</p>
</blockquote>

<h2 id="for-non-static-site-generator-websites">For Non-Static-Site-Generator Websites</h2>

<p>There is also a <a href="https://youtu.be/g85LQVp0hGM">video guide by Eric Murphy on Youtube</a> if you prefer to follow along with a video.</p>

<h3 id="external-style-sheet">External Style Sheet</h3>

<p>To separate code between HTML and CSS, link an external CSS style sheet in the <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> tag in the HTML document. Like so:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- should resemble something like this --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
...
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"styles.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
...
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>And in your <code class="language-plaintext highlighter-rouge">styles.css</code>:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="with-the-style-html-tag">With the &lt;style&gt; HTML tag</h3>

<p>You can also type out your CSS code in between <code class="language-plaintext highlighter-rouge">&lt;style&gt;</code> tags if you prefer everything to be contained in one HTML document:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- something like this --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
...
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;style&gt;</span>
    <span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
        <span class="nt">body</span> <span class="p">{</span>
            <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
            <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
...
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h2 id="for-static-site-generator-websites">For Static Site Generator Websites</h2>

<p>It is a little bit less straightforward to do this with static site generators like Jekyll (which is what this website uses) or Hugo, as you have to override the theme’s CSS style sheet.</p>

<p>There is a <a href="https://tomkadwill.com/2017/12/16/how-to-override-css-styles-in-jekyll">blog post by Tom Kadwill on how to override your CSS styles in Jekyll</a> you can follow to create your SCSS file, and after which you should get something resembling this:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
<span class="nt">---</span>

<span class="k">@import</span> <span class="s1">"minima"</span><span class="p">;</span> <span class="c">/* replace minima inside the quotes with your Jekyll theme */</span>
</code></pre></div></div>

<p>And you should get something like this after adding the dark mode code.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
<span class="nt">---</span>

<span class="k">@import</span> <span class="s1">"minima"</span><span class="p">;</span> <span class="c">/* replace minima inside the quotes with your Jekyll theme */</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">prefers-color-scheme</span><span class="p">:</span> <span class="n">dark</span><span class="p">)</span> <span class="p">{</span>
  <span class="nt">body</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="m">#111</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#fdfdfd</span><span class="p">;</span> <span class="c">/* colour of text */</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For other static site generator websites, you can refer to the official documentation found online for information on how to override your theme’s style-sheet.</p>

<h1 id="configure-giscus-theme">Configure Giscus Theme</h1>

<p>To set <code class="language-plaintext highlighter-rouge">giscus</code> comments to match the website if you have done the CSS <code class="language-plaintext highlighter-rouge">@media</code> trick shown above, simply set the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>’s <code class="language-plaintext highlighter-rouge">data-theme</code> attribute value to <code class="language-plaintext highlighter-rouge">"preferred_color_scheme"</code> as shown below.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://giscus.app/client.js"</span>
        <span class="err">...</span>
        <span class="err">...</span>
        <span class="err">...</span>
        <span class="na">data-theme=</span><span class="s">"preferred_color_scheme"</span>
        <span class="err">...</span>
        <span class="na">crossorigin=</span><span class="s">"anonymous"</span>
        <span class="na">async</span><span class="nt">&gt;</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h1 id="conclusion">Conclusion</h1>

<p>If you found this blog post useful, leave a comment down below! Also check out how to add <code class="language-plaintext highlighter-rouge">giscus</code> comments to your own website on my <a href="/giscus-comments">previous guide for it</a>.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="dark" /><category term="mode," /><category term="theme," /><category term="night" /><category term="colour" /><category term="scheme," /><category term="jekyll," /><category term="css," /><category term="github" /><category term="pages," /><category term="static" /><category term="site" /><category term="generators," /><category term="system" /><category term="default" /><summary type="html"><![CDATA[This guide explains why and how to easily make a dark theme for your website using CSS @media queries.]]></summary></entry><entry><title type="html">Justify and Hyphenate Text on Websites using CSS</title><link href="http://localhost:4000/justify-text" rel="alternate" type="text/html" title="Justify and Hyphenate Text on Websites using CSS" /><published>2024-09-07T00:00:00+08:00</published><updated>2024-09-07T00:00:00+08:00</updated><id>http://localhost:4000/justify-text</id><content type="html" xml:base="http://localhost:4000/justify-text"><![CDATA[<p>This blog guide goes into why and how to justify and hyphenate text on your website without Javascript.</p>

<h1 id="for-static-site-generator-websites">For Static-Site-Generator Websites</h1>

<p>It is a little bit less straightforward to do this with static site generators like Jekyll (which is what this website uses) or Hugo, you will have to override the theme’s CSS style sheet.</p>

<p>There is a <a href="https://tomkadwill.com/2017/12/16/how-to-override-css-styles-in-jekyll">blog post by Tom Kadwill on how to override your CSS styles in Jekyll</a> you can follow to create your SCSS file, and after which you should get something resembling this:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span>
<span class="nt">---</span>

<span class="k">@import</span> <span class="s1">"minima"</span><span class="p">;</span> <span class="c">/* replace minima inside the quotes with your Jekyll theme */</span>
</code></pre></div></div>

<p>After this, you can follow all the steps below the same way as it would be done if you were using CSS in a non-static-site-generator instead of SCSS in a static site generator.</p>

<h1 id="why-justify-text">Why Justify Text</h1>

<p>It is more of an aesthetic preference than anything. This jaggedness generally does not bother people that much because they have grown used to the popular left-aligned style of text on the web and probably do not know justification even exists on the web, only on printed books and newspapers. But it just looks better to me when all lines are the same length and the right side of text is not jagged. Justifcation is a way of acheiving that aesthetic goal without cutting words off abruptly.</p>

<h1 id="how-to-justify">How to Justify</h1>

<p>It is actually pretty simple. To justify your body text, just add this to your CSS style sheet:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">justify</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="why-hyphenate">Why Hyphenate</h1>

<p>Text justification can make your paragraphs look tidier, but it has the side-effect of awkwardly stretching out the whitespace between words, which can create and worsen an undesirable effect commonly referred to as ‘rivers of white’. This effect is known to make text harder for dyslexic readers to read, decreasing accessibility.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Typographic_river_marking.svg/1280px-Typographic_river_marking.svg.png" alt="Image from Wikipedia with visual marking around an example of a 'rivers of white' effect." /></p>

<p>This is why justification is generally <a href="https://applewoodinteractive.com/accessibility/rivers-of-white-why-you-should-never-justify-your-text">not</a> <a href="https://maxwellforbes.com/posts/web-justified-text">recommended</a> for text output on the web.</p>

<p>By hyphenating, even though it does not solve the problem completely, it will reduce this effect significantly while keeping text not jagged.</p>

<p>Hyphenating text will cut off some words at the end of lines (indicated by an auto-inserted hyphen), but it will do it with an algorithm that tries to make it seamless.</p>

<h1 id="how-to-hyphenate">How to Hyphenate</h1>

<p>Although there is a way to hyphenate with Javascript using <a href="https://mnater.github.io/Hyphenopoly">Hyphenopoly.js</a>, there already is a built-in functionality in CSS to do this and it is <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/hyphens">widely supported by browsers</a>.</p>

<p>To add hyphenation to your body text, simply add the <code class="language-plaintext highlighter-rouge">hyphens</code> property to your body section in your CSS style sheet and set it to <code class="language-plaintext highlighter-rouge">auto</code>, like so:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
    <span class="nl">hyphens</span><span class="p">:</span> <span class="nb">auto</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="other-blogs-that-justify">Other Blogs That Justify</h1>

<p>Here are a list of other blogsites that I know of that use justified text:</p>
<ul>
  <li>Chris Noxz’s <a href="https://noxz.tech">noxz.tech</a>, which renders static HTML from <a href="https://www.gnu.org/software/groff"><code class="language-plaintext highlighter-rouge">groff</code></a>.</li>
  <li>Simon Johnston’s <a href="https://simonkjohnston.life">simonkjohnston.life</a>, which does not use hyphenation.</li>
  <li>Kyle Mcdonald’s <a href="https://kylemcdonald.net/psac">kylemcdonald.net</a>, which also does not hyphenate.</li>
  <li>Public Delivery’s <a href="https://publicdelivery.org">publicdelivery.org</a>, which also justifies without hyphens.</li>
  <li>JPEG XL’s <a href="https://jpegxl.info">jpegxl.info</a>, which had fixed its un-hyphenated text.</li>
</ul>

<h1 id="conclusion">Conclusion</h1>

<p>f you found this blog post useful, leave a comment down below! Also read how to add reactive dark-mode to your website in my <a href="/dark-mode">previous blog post</a>.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="justify," /><category term="text-align," /><category term="jekyll," /><category term="css," /><category term="static" /><category term="site" /><category term="generator" /><summary type="html"><![CDATA[This blog guide goes into why and how to justify and hyphenate text on your website without Javascript.]]></summary></entry><entry><title type="html">Comments on Github Pages with giscus</title><link href="http://localhost:4000/giscus-comments" rel="alternate" type="text/html" title="Comments on Github Pages with giscus" /><published>2024-05-24T00:00:00+08:00</published><updated>2024-05-24T00:00:00+08:00</updated><id>http://localhost:4000/giscus-comments</id><content type="html" xml:base="http://localhost:4000/giscus-comments"><![CDATA[<p>I added a commenting feature for the blog using <a href="https://giscus.app">giscus</a>. Basically, it uses <a href="https://docs.github.com/en/discussions">Github Discussions</a> to store comments instead of storing it in its own database on the web server. Since this website is hosted on <a href="https://docs.github.com/en/pages">Github Pages</a> and Pages only supports static websites, it cannot host its own databases to store things such as comments. This guide explains how to add giscus comments to statically-hosted websites, and some quirks and caveats with using Github Discussions as a database for your comments.</p>

<h1 id="try-it">Try it</h1>

<p>You can test it out yourself on this blog post in the comments below by signing into your Github account and commenting, or you can comment on the <a href="https://github.com/de-soot/de-soot.github.io/discussions/22">Github Discussions post</a> directly and it will show up on the comments section on the website similarly.</p>

<h1 id="add-it-to-your-own-github-pages-website">Add it to your own Github Pages website</h1>

<p>1) Make sure to enable Github Discussions on your website’s Github repository.</p>

<p>2) Navigate to <code class="language-plaintext highlighter-rouge">giscus.app</code> on your browser’s address bar and follow the instructions under the “Configuration” section to configure your <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code> tag attribute values.</p>

<p>3) After you have done so, you can simply copy and paste it into your webpage!</p>

<h1 id="note">Note</h1>

<p>Giscus finds and links the comments to the Github Discussions by searching through and matching URLs, path names, titles, and other such metadata. If you try to change a page’s title without editing the associated Github Discussion accordingly, it may lead to giscus not being able to find and link it to the Github Discussion (this is especially noticible if you set the <code class="language-plaintext highlighter-rouge">&lt;script&gt;</code>’s <code class="language-plaintext highlighter-rouge">data-strict</code> attribute value to <code class="language-plaintext highlighter-rouge">"1"</code>), and hence Giscus will create a new Github Discussion.</p>

<p>Giscus also does not update or sync the posts made on Github Discussions with the blogs on your website, so you may have to manually copy across the changes and edits you make to your blog posts. Luckily, giscus only creates a post on Discussions when there is interaction (reactions or comments) with giscus on your blog post, so it should not be an issue for new blog posts that no one has commented or reacted to yet.</p>

<script src="https://giscus.app/client.js" data-repo="de-soot/de-soot.github.io" data-repo-id="R_kgDOK6_5tA" data-category="Announcements" data-category-id="DIC_kwDOK6_5tM4CflCT" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>]]></content><author><name></name></author><category term="comments," /><category term="giscus," /><category term="github" /><category term="pages," /><category term="discussions," /><category term="static" /><category term="websites" /><summary type="html"><![CDATA[I added a commenting feature for the blog using giscus. Basically, it uses Github Discussions to store comments instead of storing it in its own database on the web server. Since this website is hosted on Github Pages and Pages only supports static websites, it cannot host its own databases to store things such as comments. This guide explains how to add giscus comments to statically-hosted websites, and some quirks and caveats with using Github Discussions as a database for your comments.]]></summary></entry></feed>